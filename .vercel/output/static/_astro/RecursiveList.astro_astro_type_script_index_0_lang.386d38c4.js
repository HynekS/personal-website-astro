let n=document.querySelector("[data-is_article]"),o=n?.querySelectorAll("h1, h2, h3, h4, h5, h6")??[],l=document.querySelector("[data-is_navigation]"),s=l?.querySelector("li"),a=null,i={active:null,update:e=>{i.active&&i.active.classList.remove("active"),i.active=e,i.active.classList.add("active")}};s&&i.update(s);n&&l&&(l.addEventListener("click",e=>{if(e.preventDefault(),e.target){const t=e.target.getAttribute("href")?.substring(1);document.querySelector(`[id='${t}']`)?.scrollIntoView({behavior:"smooth"}),history.pushState(null,"",`#${t}`)}o.forEach(t=>{a?.unobserve(t)});let r=e.target.closest("li");r&&i.update(r),setTimeout(()=>{o.forEach(t=>{a?.observe(t)})},800)}),a=new IntersectionObserver(e=>{e.forEach(r=>{const t=r.target.getAttribute("id");if(r.intersectionRatio>0){let c=l?.querySelector(`li a[href="#${t}"]`)?.parentElement;c&&i.update(c)}})},{rootMargin:"-100px 0% -66%",threshold:1}),o.forEach(e=>{a&&a.observe(e)}));
