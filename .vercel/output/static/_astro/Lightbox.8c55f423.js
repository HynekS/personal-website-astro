import{P,h as C}from"./preact.module.8d3ceea4.js";import{p as w,h as S}from"./hooks.module.86c7875b.js";import{o as i}from"./jsxRuntime.module.fd3391b7.js";function O(o){if(Array.isArray(o)){for(var e=0,t=Array(o.length);e<o.length;e++)t[e]=o[e];return t}else return Array.from(o)}var m=!1;if(typeof window<"u"){var k={get passive(){m=!0}};window.addEventListener("testPassive",null,k),window.removeEventListener("testPassive",null,k)}var y=typeof window<"u"&&window.navigator&&window.navigator.platform&&(/iP(ad|hone|od)/.test(window.navigator.platform)||window.navigator.platform==="MacIntel"&&window.navigator.maxTouchPoints>1),u=[],h=!1,I=-1,a=void 0,d=void 0,f=void 0,L=function(e){return u.some(function(t){return!!(t.options.allowTouchMove&&t.options.allowTouchMove(e))})},p=function(e){var t=e||window.event;return L(t.target)||t.touches.length>1?!0:(t.preventDefault&&t.preventDefault(),!1)},M=function(e){if(f===void 0){var t=!!e&&e.reserveScrollBarGap===!0,n=window.innerWidth-document.documentElement.clientWidth;if(t&&n>0){var r=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right"),10);f=document.body.style.paddingRight,document.body.style.paddingRight=r+n+"px"}}a===void 0&&(a=document.body.style.overflow,document.body.style.overflow="hidden")},j=function(){f!==void 0&&(document.body.style.paddingRight=f,f=void 0),a!==void 0&&(document.body.style.overflow=a,a=void 0)},D=function(){return window.requestAnimationFrame(function(){if(d===void 0){d={position:document.body.style.position,top:document.body.style.top,left:document.body.style.left};var e=window,t=e.scrollY,n=e.scrollX,r=e.innerHeight;document.body.style.position="fixed",document.body.style.top=-t+"px",document.body.style.left=-n+"px",setTimeout(function(){return window.requestAnimationFrame(function(){var c=r-window.innerHeight;c&&t>=r&&(document.body.style.top="-"+(t+c)+"px")})},300)}})},E=function(){if(d!==void 0){var e=-parseInt(document.body.style.top,10),t=-parseInt(document.body.style.left,10);document.body.style.position=d.position,document.body.style.top=d.top,document.body.style.left=d.left,window.scrollTo(t,e),d=void 0}},H=function(e){return e?e.scrollHeight-e.scrollTop<=e.clientHeight:!1},R=function(e,t){var n=e.targetTouches[0].clientY-I;return L(e.target)?!1:t&&t.scrollTop===0&&n>0||H(t)&&n<0?p(e):(e.stopPropagation(),!0)},F=function(e,t){if(!e){console.error("disableBodyScroll unsuccessful - targetElement must be provided when calling disableBodyScroll on IOS devices.");return}if(!u.some(function(r){return r.targetElement===e})){var n={targetElement:e,options:t||{}};u=[].concat(O(u),[n]),y?D():M(t),y&&(e.ontouchstart=function(r){r.targetTouches.length===1&&(I=r.targetTouches[0].clientY)},e.ontouchmove=function(r){r.targetTouches.length===1&&R(r,e)},h||(document.addEventListener("touchmove",p,m?{passive:!1}:void 0),h=!0))}},q=function(e){if(!e){console.error("enableBodyScroll unsuccessful - targetElement must be provided when calling enableBodyScroll on IOS devices.");return}u=u.filter(function(t){return t.targetElement!==e}),y&&(e.ontouchstart=null,e.ontouchmove=null,h&&u.length===0&&(document.removeEventListener("touchmove",p,m?{passive:!1}:void 0),h=!1)),y?E():j()};const N=o=>o.getAttributeNames().reduce((e,t)=>({...e,[t]:o.getAttribute(t)}),{});let T=[...document.querySelectorAll("[lightbox]")];const A=o=>i("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:`w-12 h-12 ${o.class||""}`,children:i("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M15.75 19.5L8.25 12l7.5-7.5"})}),W=o=>i("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:`w-12 h-12 ${o.class||""}`,children:i("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M6 18L18 6M6 6l12 12"})}),Y=()=>{const[o,e]=w(T),[t,n]=w(0),[r,c]=w(!1),v=(l,s=o.length)=>(l%s+s)%s,g=l=>{let s=o.findIndex(B=>B===l.target);document.body.style.paddingRight="16px",F(document.body),n(s),c(!0)},b=()=>{document.body.removeAttribute("style"),q(document.body),c(!1)},x=l=>{if(l.key==="Escape")return b();if(["ArrowRight","D","d","ArrowDown","S","s"].includes(l.key))return n(s=>v(s+1));if(["ArrowLeft","A","a","ArrowUp","W","w"].includes(l.key))return n(s=>v(s-1))};return S(()=>(o.forEach(l=>l.addEventListener("click",g)),()=>{o.forEach(l=>l.addEventListener("click",g))}),[]),S(()=>(window.addEventListener("keyup",x),()=>{window.removeEventListener("keyup",x)}),[]),o.length&&r?i("div",{class:"fixed inset-0 px-12 flex items-center justify-center bg-black bg-opacity-75 text-white",children:[i("button",{onClick:()=>{n(v(t-1))},class:"flex h-full basis-1/12 items-center justify-start opacity-75 hover:opacity-100",children:i(A,{"aria-label":"previous"})}),i("div",{class:"flex flex-1 basis-8/12 justify-center max-h-screen max-w-screen pt-10 pb-10",children:C(o[t].nodeName,Object.assign({width:"1200",height:"1200"},N(o[t])))}),i("button",{onClick:()=>{n(v(t+1))},class:"flex h-full basis-1/12 items-center justify-end opacity-75 hover:opacity-100",children:i(A,{"aria-label":"next",class:"transform rotate-180"})}),i("button",{class:"fixed top-0 right-0 p-8 opacity-75 hover:opacity-100",onClick:b,children:i(W,{})})]}):null},V=()=>(P(T.length?i(Y,{}):null,document.body),null);export{V as default};
